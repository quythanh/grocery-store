"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[793],{5455:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"configuration/auto-dns-resolv","title":"Automatic DNS Resolution","description":"MacOS","source":"@site/docs/configuration/auto-dns-resolv.md","sourceDirName":"configuration","slug":"/configuration/auto-dns-resolv","permalink":"/grocery-store/docs/configuration/auto-dns-resolv","draft":false,"unlisted":false,"editUrl":"https://github.com/quythanh/grocery-store/blob/main/docs/docs/configuration/auto-dns-resolv.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Installation \ud83d\udee0\ufe0f","permalink":"/grocery-store/docs/install"},"next":{"title":"Trusted CA Root Certificate","permalink":"/grocery-store/docs/configuration/trust-ca-root-cert"}}');var o=s(6070),r=s(6599);const c={},i="Automatic DNS Resolution",d={},a=[{value:"MacOS",id:"macos",level:2},{value:"Linux (systemd-resolved)",id:"linux-systemd-resolved",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"automatic-dns-resolution",children:"Automatic DNS Resolution"})}),"\n",(0,o.jsx)(n.h2,{id:"macos",children:"MacOS"}),"\n",(0,o.jsxs)(n.p,{children:["On Mac OS, DNS resolution is configured automatically for ",(0,o.jsx)(n.code,{children:"*.test"})," domains\nusing a feature Mac OS inherits from BSD. When ",(0,o.jsx)(n.code,{children:"warden install"})," is run (or\n",(0,o.jsx)(n.code,{children:"warden svc up"})," for the first time) the following contents are placed in\nthe ",(0,o.jsx)(n.code,{children:"/etc/resolver/test"})," file. This has the effect of having zero impact\non DNS queries except for those under the ",(0,o.jsx)(n.code,{children:".test"})," TLD."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"nameserver 127.0.0.1\n"})}),"\n",(0,o.jsx)(n.h2,{id:"linux-systemd-resolved",children:"Linux (systemd-resolved)"}),"\n",(0,o.jsx)(n.p,{children:"This approach works on most modern (systemd based) operating systems."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"systemd-resolved"})," can be configured to forward the requests of ",(0,o.jsx)(n.code,{children:".test"})," TLD\nto another DNS server. The configuration file is typically located at\n",(0,o.jsx)(n.code,{children:"/etc/systemd/resolved.conf"})," and ",(0,o.jsx)(n.code,{children:"/etc/systemd/resolved.conf.d/*.conf"}),".\nRun the following commands to configure systemd-resolved:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'sudo mkdir -p /etc/systemd/resolved.conf.d\necho -e "[Resolve]\\nDNS=127.0.0.1\\nDomains=~test\\n" \\\n  | sudo tee /etc/systemd/resolved.conf.d/warden.conf > /dev/null\nsudo systemctl restart systemd-resolved\n'})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},6599:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>i});var t=s(758);const o={},r=t.createContext(o);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);